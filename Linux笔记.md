[TOC]

# Linux基础篇

### 1.学习Linux的阶段

> 1. Linux环境下的操作命令.
> 2. Linux的各种配置.
> 3. Linux下如何搭建对应的语言的开发环境.
> 4. 能够编写shell脚本,对Linux服务器进行维护.
> 5. 能进行安全设置,防止攻击,保障服务器正常运行,能对系统调优/\.
> 6. 深入理解Linux系统(对内核进行研究),熟悉掌握大型网站应用架构组成,并熟悉各个环节的部署和维护方法.

### 2.虚拟机的三种配置网络连接

> 1.桥连接:Linux可以和其他的系统通信.但是可能造成IP地址冲突.
>
> 2.NAT连接:网络地址转换方式:Linux可以访问外网,不会造成地址冲突.
>
> 3.主机模式:你的LInux是一个独立的主机,不能访问外网.

### 3.Linux的目录结构

> 基本简绍:
>
> ​	linux的文件系统是采用级层式的树状目录结构,在此结构中的最上层是根目录"/",然后在此目录下再创建其他的目录.
>
> 记住一句经典的话:**在Linux世界里,一切皆是文件**.

### 4.Linux目录总结

> 1. linux的目录中有且只有一个根目录"/".
> 2. linux的各个目录存放的内容是规划好的,不用乱放文件.
> 3. linux是以文件的形式管理我们的设备,因此linux系统,一切皆文件.
> 4. linux的各个文件目录存放的内容必须有一个认识.
> 5. 学习后,脑海中应该有一个linux目录树.

------

# Linux实操篇

### 1.安装远程登录到Linux的软件xshell5

![](C:/Users/dell/Desktop/1.PNG)

### 2.安装远程上传下载文件Xftp5

![](C:/Users/dell/Desktop/2.PNG)

### 3.vi和vim编辑器

#### 3.1 vi和vim编辑器三种常见的模式

##### 3.1.1正常模式

##### 3.1.2插入模式/编辑模式

##### 3.1.3命令行模式

![](C:/Users/dell/Desktop/Linux图片/用户管理/vim的三种模式转换.PNG)

#### 3.2  vi和vim的快捷键

> 1. 在正常模式下使用yy进行复制,如果是5yy的话就复制光标下的5行,然后在使用p进行黏贴.
> 2. 在正常模式下使用dd进行删除,如果是5dd的话就删除光标下的5行.
> 3. 在文件中查找某个单词[命令行下 /关键字,回车 查找,输入n就是进行查找下一个].
> 4. 设置文件的行号,取消文件的行号[命令行下 :ser nu 和 :set nonu].
> 5. 使用快捷键到底文档的最末行[G]和最首行[gg].
> 6. 在一个文件中输入了不想要的内容,如"hello",然后有撤销这个动作u.
> 7. 在命令模式下输入数字+回车键就可以定位到该行.

### 4.开机,重启和用户注销

#### 4.1 关机&重启命令

##### 4.1.1基本介绍

> shutdown
>
> ​	shutdown -h now:表示立即关机
>
> ​	shutdown -h 1:表示1分钟后关机
>
> ​	shutdown -r now:立即重启
>
> halt
>
> ​	就是直接使用,效果等价于关机
>
> reboot
>
> ​	重启系统
>
> syn:把内存的数据同步到磁盘

##### 4.1.2 注意细节

> 当我们关机或重启时,都应该先执行以下sync指令,把内存的数据写入磁盘,防止数据丢失.

#### 4.2  用户登录和注销

##### 4.2.1 基本介绍

> 1. 登录时尽量少用root账号,因为它是系统管理员,最大的权限,避免操作失误.可以利用普通用户登录,登录后用"su - 用户名"命令来切换系统管理员身份.
> 2. 在提示符下输入logout即可注销用户.

##### 4.2.2使用细节

> 1.logout注销指令在图形运行级别无效,在运行级别3下有效.
>
> 2.运行级别的概念后面提到.

### 5.用户管理

#### 5.1基本介绍

![](C:/Users/dell/Desktop/Linux图片/用户管理/用户管理.PNG)

#### 5.2添加用户

##### 5.2.1 基本语法

> useradd xm

![](C:/Users/dell/Desktop/Linux图片/用户管理/添加用户.PNG)

##### 5.2.2 细节说明

> 1. 当创建用户成功后,会自动的创建和用户同名的目录.
> 2. 也可以通过useradd -d 指定目录 新的用户名,给新创建的用户指定家目录.

![](C:/Users/dell/Desktop/Linux图片/用户管理/添加用户2.PNG)

##### 5.2.3 指定密码

> passwd 用户名

![](C:/Users/dell/Desktop/Linux图片/用户管理/指定密码.PNG)

#### 5.3 删除用户

##### 5.3.1基本语法

> userdel 用户名

1.删除用户名但是保存家目录.

> userdel xm

![](C:/Users/dell/Desktop/Linux图片/用户管理/删除用户名保存家目录.PNG)

2.删除用户名以及家目录.

> userdel -r xd

![](C:/Users/dell/Desktop/Linux图片/用户管理/删除用户名及家目录.PNG)

#### 5.4查询用户信息指令

##### 5.4.1基本语法

> id 用户名

![](C:/Users/dell/Desktop/Linux图片/用户管理/查询用户信息.PNG)

##### 5.4.2 细节说明

> 当查询不到是会返回"无此用户".

#### 5.5切换用户

##### 5.5.1基本语法

> su - 用户名

![](C:/Users/dell/Desktop/Linux图片/用户管理/切换用户.PNG)

##### 5.5.2细节说明

> 1.从权限高的用户切换到权限低的用户不需要输入密码,反之需要.
>
> 2.当需要返回到原来的用户是,使用exit指令/

- [ ] 补充:查看当前用户/用户登录

  > whoami/who am I

#### 5.6用户组

##### 5.6.1介绍

> 类似于角色,系统可以对有共性的多个用户同意的管理.

##### 5.6.2增加用户组

> groupadd 用户组名

![](C:/Users/dell/Desktop/Linux图片/用户管理/增加用户组.PNG)

##### 5.6.3删除用户组

> groupdel 用户组名

![](C:/Users/dell/Desktop/Linux图片/用户管理/删除用户组.PNG)

##### 5.6.4指定用户到某个用户组

> useradd -g 用户组名	用户名

![](C:/Users/dell/Desktop/Linux图片/用户管理/指定用户到某个用户组.PNG)

##### 5.6.5修改用户的组

> usermod  -g 用户组名	用户名

![](C:/Users/dell/Desktop/Linux图片/用户管理/修改用户的组.PNG)

#### 5.7用户和组的相关文件

##### 5.7.1/ext/passwd文件

> 用户(user)的配置文件,记录用户的各种信息
>
> 每行的含义,用户名:用户标识号:组标识号:注释性描述:主目录:登录shell

##### 5.7.2/ext/shadow文件

> 口令的配置文件
>
> 每行的含义:登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志

##### 5.7.3/ext/group文件

> 组(group)的配置文件,记录Linux包含的组的信息
>
> 每行含义,组名:口令:组标识号:组内用户列表

### 6.实用指令

#### 6.1指定运行级别

![](C:/Users/dell/Desktop/Linux图片/实用指令/实用指令.PNG)

#### 6.2切换到指定运行级别的指令

##### 6.2.1基本语法

> init [0123456]

![](C:/Users/dell/Desktop/Linux图片/实用指令/运行级别.PNG)

##### 6.2.2面试题

- [ ] **如何找回root密码,如果不小心,忘记密码,怎么找回**.

思路:进入到单用户模式,然后修改root密码.

总结:

开机-->引导是输入 回车键-->看到一个界面 按下e-->看到一个新的界面,选择第二行(编辑内核)在输入 e-->在这行最后输入 1 ,再输入回车键

-->再次输入b,这时就会进入单用户模式.

这时,我们就进入到单用户模式,使用passwd指令来修改root密码.

#### 6.3帮助指令

##### 6.3.1man 获得帮助信息

> man ls

##### 6.3.2help 指令

> help cd

#### 6.4 文件目录类

##### 6.4.1 pwd 指令

##### 6.4.2 ls 指令

##### 6.4.3 cd 指令

##### 6.4.4 mkdir 指令

> mkdir 指令用于创建目录
>
> - [ ] 基本语法
>
> mkdir [选项] 要创建的目录
>
> - [ ] 常用选项
>
> -p 创建多级目录
>
> - [ ] 删除目录
>
> rmdir 要删除的目录

##### 6.4.5 touch 指令

> touch指令创建文件
>
> - [ ] 基本语法
>
> touch 文件名

##### 6.4.6 cp 拷贝指令[重要]

> - [ ] 基本用法
>
> cp [选项] source dest
>
> ![](C:/Users/dell/Desktop/Linux图片/实用指令/复制.PNG)
>
> - [ ] 常用选项
>
> -r 递归复制整个文件夹
>
> cp -r	xxx/x

##### 6.4.7 rm 指令

> rm 指令移除文件或目录
>
> - [ ] 基本用法
>
> rm [选项]    要移除文件或目录

##### 6.4.8 Mv 指令

> mv 移动文件与目录或重命名
>
> - [ ] 基本语法
>
> MV oldNameFile newNameFile (功能重命名)
>
> ![](C:/Users/dell/Desktop/Linux图片/实用指令/重命名.PNG)
>
> mv 文件名 目录名(移动文件)
>
> ![](C:/Users/dell/Desktop/Linux图片/实用指令/移动文件.PNG)

##### 6.4.9 cat 指令

> cat 查看文件内容,是以只读的方式打开.
>
> - [ ] 基本语法
>
> cat[选项] 要查看的文件
>
> - [ ] 常用选项

##### 6.4.10 more 指令

##### 6.4.11 less 指令

> 查看大型文件时使用
>
> - [ ] 基本语法
>
> less 文件名字
>
> ![](C:/Users/dell/Desktop/Linux图片/实用指令/less.PNG)
>
> enter:一行一行的看
>
> 空格:一页一页的看

##### 6.4.12 >指令和>>指令

- [ ] 介绍

1. (>)指令输出重定向
2. (>>)指令表示追加

- [ ] 基本语法

1. ls -l > 文件	(功能描述,列表内容写入文件a.txt(覆盖写)).

   ![](C:/Users/dell/Desktop/Linux图片/实用指令/覆盖指令.PNG)

2. ls -al >>文件    (列表的内容追加到文件a.txt的末尾)

![](C:/Users/dell/Desktop/Linux图片/实用指令/追加.PNG)

   3.cat 文件1 > 文件2    (将文件1的内容覆盖到文件2)

![](C:/Users/dell/Desktop/Linux图片/实用指令/cat指令.PNG)

   4.echo "内容">>文件    

![](C:/Users/dell/Desktop/Linux图片/实用指令/echo指令.PNG)

##### 6.4.13 echo指令

> echo输出内容到控制台
>
> - [ ] 基本语法
>
> echo  [选项]    [输出内容]

![](C:/Users/dell/Desktop/Linux图片/实用指令/echo输出环境路径.PNG)

##### 6.4.14 head指令

> head用于显示文件的开头部分内容,默认情况下head指令显示文件的前10行内容
>
> - [ ] 基本语法
>
> head    文件    (功能描述   查看文件头10行内容)
>
> head   -n  5 文件    (功能描述,查看文件头5行内容,5可以是任意行数)

![](C:/Users/dell/Desktop/Linux图片/实用指令/head指令.PNG)

##### 6.4.15 tail指令

> tail用于输出文件中尾部的内容,默认情况下tail指令显示文件的后10行内容.
>
> - [ ] 基本用法
>
> 1. tail 文件 (功能描述,查看文件的后10行).
> 2. tail -n 5 文件    (功能描述,查看文件的后5行内容,5可以是任意数字).
> 3. tail -f 文件 (功能描述,实时追踪该文件的所用更新,工作中经常使用).

![](C:/Users/dell/Desktop/Linux图片/实用指令/tail指令.PNG)

![](C:/Users/dell/Desktop/Linux图片/实用指令/tail实时追踪.PNG)

##### 6.4.16 ln 指令

> 软链接也叫符号链接,类似于win里的快捷键,主要存放了链接其他文件的路径.
>
> - [ ] 基本语法
>
> ln -s (原文件或目录][软链接名]   (功能描述,给原文件创建一个软链接)

1. 案例一:在/home 目录下创建一个软链接 linkToRoot, 链接到 /root目录

![](C:/Users/dell/Desktop/Linux图片/实用指令/ln软链接.PNG)

  2.案例二:删除软链接

![](C:/Users/dell/Desktop/Linux图片/实用指令/ln软链接删除.PNG)

##### 6.4.17 history指令

> 查看已经执行过历史命令,也可以执行历史指令
>
> - [ ] 基本语法
>
> history    (功能描述,查看已经执行过的历史名)

1.案例一:显示所有的历史命令.

![](C:/Users/dell/Desktop/Linux图片/实用指令/显示所有历史命令.PNG)

2.案例二:显示最近使用的10个指令.

![](C:/Users/dell/Desktop/Linux图片/实用指令/显示最近用过的10个命令.PNG)

3.执行编号为116的指令.

![](C:/Users/dell/Desktop/Linux图片/实用指令/执行编号为116的指令.PNG)

#### 6.5 时间日期类

##### 6.5.1 date指令-显示当前日期

> - [ ] 基本用法
>
> 1.date
>
> 2.date +%Y
>
> 3.date +%m
>
> 4.date +%d
>
> 5.date +"%Y-%m-%d %H:%M:%S"    (显示年月日时分秒)

案例一:显示当前时间信息.

![](C:/Users/dell/Desktop/Linux图片/实用指令/显示当前信息.PNG)

案例二:显示当前时间年月日.

![](C:/Users/dell/Desktop/Linux图片/实用指令/显示当前时间年月日.PNG)

案例三:显示当前时间年月日时分秒.

![](C:/Users/dell/Desktop/Linux图片/实用指令/显示当前时间年月日时分秒.PNG)

##### 6.5.2 cal 指令

> 查看日历指令
>
> - [ ] 基本语法
>
> cal [选项]  (不添加选项,显示本月日历)

案例一:显示当前日历

![](C:/Users/dell/Desktop/Linux图片/实用指令/显示当前日历.PNG)

案例二:显示2030年的日历

![](C:/Users/dell/Desktop/Linux图片/实用指令/显示2030年的日历.PNG)

#### 6.6搜索查找类

##### 6.6.1find指令

> find指令将从指定用户目录下递归遍历其各子目录,将满足条件的**文件或目录**显示在终端.
>
> - [ ] 基本语法
>
> find [搜索范围] [选项]

##### 6.6.2 locate指令

> locate指令可以快速定位文件路径.locate指令利用事先建立的系统中所有文件名及路径的locate数据库实现快速定位给定的文件.locate指令无需遍历整个系统,查询速度较快.为了保证查询结果的准确性,管理员必须定期更新locate时刻.
>
> - [ ] 基本语法
>
> locate 搜索文件

##### 6.6.3 grep指令和管道符

> grep过滤查找,管道符"|",表示前一个命令的处理结果输出传递给后面的命令处理.
>
> - [ ] 基本语法
>
> grep [选项] 查找内容,源文件

#### 6.7 压缩和解压缩

##### 6.7.1 gzip/gunzip指令

> gzip用于压缩文件,gunzip用于解压文件.
>
> - [ ] 基本语法
>
> gzip 文件   ----->只能将文件压缩为*.gz文件.
>
> gunzip 文件.gz    ----->解压缩文件命令

案例一:gzip压缩,将/home下的hello.txt文件进行压缩.

![](C:/Users/dell/Desktop/Linux图片/实用指令/gzip压缩.PNG)

案例二:gunzip解压,将/home下的hello.txt文件进行解压缩.

![](C:/Users/dell/Desktop/Linux图片/实用指令/gunzip解压.PNG)

- [ ] 当我们使用gzip对文件压缩后,不会保留原来的文件.

##### 6.7.2 zip/unzip指令

> zip用于压缩文件,unzip用于解压缩,在这个在项目打包发布中很有用.
>
> - [ ] 基本语法
>
> zip    [选项]xxx.zip 将要压缩的内容    ---->压缩文件和目录的指令.
>
> unzip    [选项]xxx.zip    ---->解压文件
>
> - [ ] zip常用选项
>
> -r :递归压缩,即压缩目录
>
> - [ ] gzip的常用选项
>
> -d<目录>:指定解压后文件的存放目录.

案例一:将/home下的所有文件进行压缩成mypackage.zip

![](C:/Users/dell/Desktop/Linux图片/实用指令/zip压缩.PNG)

案例二:将mypackage.zip 解压到/opt/tmp.

![](C:/Users/dell/Desktop/Linux图片/实用指令/unzip解压.PNG)

##### 6.7.3  tar 指令

> tar指令是**打包指令**,最后打包后的文件时tar.gz的文件.
>
> - [ ] 基本语法
>
> tar [选项] xxx.tar.gz 打包的内容    ----->打包目录.压缩后的文件格式tar.gz

案例一:将/home的文件夹压缩成myhome.tar.gz

![](C:/Users/dell/Desktop/Linux图片/实用指令/tar压缩.PNG)

案例二:将/home的文件夹 压缩成myhome.tar.gz

![](C:/Users/dell/Desktop/Linux图片/实用指令/tar压缩成myhome.PNG)

案例三:将a.tar.gz 解压到当前目录.

![](C:/Users/dell/Desktop/Linux图片/实用指令/tar解压.PNG)

案例四:将myhome.tar.gz 解压到/opt/tmp目录下.

![](C:/Users/dell/Desktop/Linux图片/实用指令/tar解压到指定目录.PNG)

指定解压的那个目录,事先要存在才能成功,否则会报错.

### 7 组管理和权限管理

#### 7.1Linux组基本介绍

> 在linux中的每个用户必须属于一个组,不能独立于组外.在linux中的每个文件所有者,所在组,其他组的概念.
>
> 1.所有者
>
> 2.所在组
>
> 3.其他组
>
> 4.改变用户所在的组.

#### 7.2文件/目录所有者

> 一般为文件地1创建者,谁创建了该文件,就自然成为该文件的所有者.



##### 7.2.1查看文件的所有者

> 1.指令:ls -ahl
>
> 2.应用实例:创建一个组police,再创建一个用户tom,然后使用tom来创建一个文件.

![](C:/Users/dell/Desktop/Linux图片/实用指令/用户组.PNG)

##### 7.2.2 修改文件所有者

> 指令:chown 用户名 文件名

案例:要去使用root创建一个文件apple.txt,然后将其所有者改成tom

![](C:/Users/dell/Desktop/Linux图片/实用指令/修改文件所有者.PNG)

##### 7.2.3 组的创建

> 指令;groupadd 组名

案例:创建一个monster组

​		创建一个用户fox,并放到monster组中.

![](C:/Users/dell/Desktop/Linux图片/实用指令/创建组.PNG)

##### 7.2.4 文件/目录所在组

> 当某个用户创建一个文件后,这个文件的所在组就是该用户所在的组.
>
> 查看文件/目录所在组
>
> - [ ] 基本指令
>
> ls -ahl
>
> 修改文件所在的组
>
> - [ ] 基本指令
>
> chgrp 组名 文件名

案例:使用root用户创建文件orange.txt,看看当前文件属于哪个组,然后将这个文件所在组,修改到police组

![](C:/Users/dell/Desktop/Linux图片/实用指令/orange所在组.PNG)



![](C:/Users/dell/Desktop/Linux图片/实用指令/修改orange所在组之后.PNG)

#### 7.3 其他组

> 除文件的所有者和所在组的用户外,系统的其它用户都是文件的其它组.

#### 7.4 改变用户所在组

> 在添加用户时,可以指定将该用户添加到哪个组,同样的用root的管理权限可以改变某个用户所在的组.

##### 7.4.1 改变用户所在的组

1. useradd -g 组名 用户名
2. usermod -d 目录名 用户名 改变该用户登录的初始目录.

案例:创建一个土匪组(bandit)将tom这用户原来所在的police组,修改到bandit组.

![](C:/Users/dell/Desktop/Linux图片/实用指令/改变用户所在组.PNG)



